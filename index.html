<!DOCTYPE html>
<html>
<head>
	<title>SRI Image Mapper</title>
	<link href="main.css" type="text/css" rel="stylesheet" />
	<meta charset="UTF-8" />
	<!--
		Summer html image map creator
		http://github.com/summerstyle/summer
		
		Copyright 2023 Vera Lobacheva (http://iamvera.com)
		Released under the MIT license
		
		Adaptations Copyright 2023 TheGlitchh (https://theglitchh.tech)
	-->
</head>
<body>
<noscript>
	<div id="noscript">
		Please, enable javascript in your browser
	</div>
</noscript>
  
<div id="wrapper">
	<header style="background-color:#2d5464;" id="header">
		<h1 id="logo">
			<a href="index.html">
				<img style="border-radius: 18px;" src="resource/srilogo.png" alt="Ava Image Mapper" />
			</a>									
		</h1>
		<nav id="nav" class="clearfix">
			<ul>
				<li id="save"><a href="#">save</a></li>
				<li id="load"><a href="#">load</a></li>
				<li id="from_html"><a href="#">from html</a></li>
				<li id="rect"><a href="#">rectangle</a></li>
				<li id="circle"><a href="#">circle</a></li>
				<li id="polygon"><a href="#">polygon</a></li>
				<li id="edit"><a href="#">edit</a></li>
				<li id="export">
				  <ul>  
				    <li id="to_html"><a href="#">to html</a></li>
				    <li id="to_labelling"><a href="#">to labelling</a></li>
				    <li id="to_coloring"><a href="#">to coloring</a></li>
				  </ul>
				  <a href="#">Export</a>
				</li>
				<li id="preview"><a href="#">preview</a></li>
				<li id="clear"><a href="#">clear</a></li>
				<li id="new_image"><a href="#">new image</a></li>
				<li id="show_help"><a href="#">?</a></li>
			</ul>
		</nav>
		<div id="coords"></div>
		<div id="debug"></div>
	</header>	
	<div id="image_wrapper">
		<div id="image">
			<img src="" alt="#" id="img" />
			<svg xmlns="http://www.w3.org/2000/svg" version="1.2" baseProfile="tiny" id="svg"></svg>
		</div>
	</div>
</div>

<!-- For html image map code -->
<div id="code">
	<span class="close_button" title="close"></span>
	<div style="background-color: #2d5464" id="code_content"></div>
</div>

<!-- Edit details block -->
<form id="edit_details">
	<h5>Attrubutes</h5>
	<span class="close_button" title="close"></span>
	<p>
		<label for="href_attr">Href</label>
		<input type="text" id="href_attr" />
	</p>
	<p>
		<label for="alt_attr">Color code / alt. Text</label>
		<input type="text" id="alt_attr" />
	</p>
	<p>
		<label for="title_attr">Label / Answers / Title</label>
		<input type="text" id="title_attr" />
	</p>
	<button id="save_details">Save</button>
</form>

<!-- From html block -->
<div id="from_html_wrapper">
	<form id="from_html_form">
		<h5>Loading areas</h5>
		<span class="close_button" title="close"></span>
		<p>
			<label for="code_input">Enter your html code:</label>
			<textarea id="code_input"></textarea>
		</p>
		<button id="load_code_button">Load</button>
	</form>
</div>
  
<!-- Get image form -->
<div id="get_image_wrapper">
	<div id="get_image">
		<div id="logo_get_image">
			<a href="index.html">
				<img src="resource/srilogo.png" alt="Ava Image Mapper" />
			</a>
		</div>
		<div id="loading">Loading</div>
		<div id="file_reader_support">
			<label style="color:#2d5464;" >Drag an image</label>
			<div id="dropzone">
				<span class="clear_button" title="clear">x</span> 
				<img src="" alt="preview" id="sm_img" />
			</div>
			<aside></aside>
			<b style="color:#2d5464 ">or</b>
		</div>
		<label style="color:#2d5464 " for="url">type a url</label>
		<span id="url_wrapper">
			<span class="clear_button" title="clear">x</span>
			<input type="text" id="url" />
		</span>
	  	  <b style="color:#2d5464 " >or</b>
    <p style="color:#2d5464 " >select local file: <button id="file_chooser_button"style="color:#2d5464;" >select<img src="upload.svg"></img></button>
      <span id="selected_filename"></span>
    </p>
		<button style="margin-top:20px;margin-left:70px" id="button">OK</button>
	</div>
</div>

<!-- Help block -->
<div id="overlay"></div>
<div id="help">
	<span class="close_button" title="close"></span>
	<div class="txt">
		<section>
			<h2>Intro</h2>
			<p>This app allows to prepare the syntax needed for Avallain Author Coloring and Labelling activities. Use the top menu to create the shapes required. Please note that Labelling only supports rectangular shapes, while Coloring supports all three types (rectangle, circle, polygon).</p>
			<p>Images used in this app are never uploaded to any server. Instead, all the data remains on your computer in your browser.</p>		
			<p>And of course: There is no warranty, use at your own risk.</p>
		</section>	
		<section>
			<h2>Main</h2>
			<p><span class="key">F5</span> &mdash; reload the page and display the form for loading image again</p>
			<p><span class="key">S</span> &mdash; save map params in localStorage</p>
		</section>
		<section>
			<h2>Drawing mode (rectangle / circle / polygon)</h2>
			<p><span class="key">ENTER</span> &mdash; stop polygon drawing (or click on first helper)</p>
			<p><span class="key">ESC</span> &mdash; cancel drawing of a new area</p>
			<p><span class="key">SHIFT</span> &mdash; square drawing in case of a rectangle and right angle drawing in case of a polygon</p>
		</section>
		<section>
		<h2>Editing mode</h2>
			<p><span class="key">DELETE</span> &mdash; remove a selected area</p>
			<p><span class="key">ESC</span> &mdash; cancel editing of a selected area</p>
			<p><span class="key">SHIFT</span> &mdash; edit and save proportions for rectangle</p>
			<p><span class="key">I</span> &mdash; edit attributes of a selected area (or dblclick on an area)</p>
			<p><span class="key">CTRL</span> + <span class="key">C</span> &mdash; a copy of the selected area</p>
			<p><span class="key">&uarr;</span> &mdash; move a selected area up</p>
			<p><span class="key">&darr;</span> &mdash; move a selected area down</p>
			<p><span class="key">&larr;</span> &mdash; move a selected area to the left</p>
			<p><span class="key">&rarr;</span> &mdash; move a selected area to the right</p>
		</section>
	</div>
	<footer>
	  <a href="http://github.com/summerstyle/summer">Ava Image Mapper</a> based on: 
		<a href="http://github.com/summerstyle/summer">Summer html image map creator 0.5</a><br />
		&copy; 2014 Vera Lobatcheva and &copy; 2023 Conrad Noack<br />
		GPL3 License
	</footer>
</div>
<input type="file" id="file_picker">
<script type="text/javascript" src="ImageMapper.js"></script>
</body>
</html>
